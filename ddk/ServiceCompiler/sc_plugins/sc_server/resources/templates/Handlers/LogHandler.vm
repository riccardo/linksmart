package $package;

import java.io.OutputStream;
import java.io.IOException;
import java.io.FileOutputStream;
import java.io.File;
import java.io.FileNotFoundException;

public class $class extends $handler {
	
	private OutputStream os;
	
	public $class($handlers context) {
		super(context);
		try {
			this.os = new FileOutputStream(new File("$service"+"log.txt"), true);
		}catch(FileNotFoundException e ) {
			e.printStackTrace();
		}
	}
	
	public void handle() {
		this.handleRequest(super.getContext().getRequest());
	}
	
	public void handleRequest(String theRequest) {
		try {
			cos.write(theRequest.getBytes());
			cos.write("\n".getBytes());
			cos.write(super.getContext().getResponse().getBytes());
			cos.write("\n\n".getBytes());
			cos.flush();
		}catch(IOException e) {
			e.printStackTrace();
		}
		if(super.getNextLayer() != null)
			super.getNextLayer().handle();
}

}