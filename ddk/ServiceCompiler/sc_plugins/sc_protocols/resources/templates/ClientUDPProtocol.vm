package $package;

$imports

public class $class implements $interface {

	private int timeout = 500;
	private int bufferSize = 10240;
	
	public $class() {
		super();
	}

	@Override
	public String communicateWithServer(String request, String host,
			int port) {
		String response = "";
		byte[] buffer = new byte[bufferSize];
		InetAddress server;
		try {
			server = InetAddress.getByName(host);
			DatagramSocket clientSocket;
			clientSocket = new DatagramSocket();
			clientSocket.setSoTimeout(this.timeout);
			DatagramPacket dp = new DatagramPacket(request.getBytes(), request.getBytes().length, server, port);
			clientSocket.send(dp);
			DatagramPacket receive = new DatagramPacket(buffer, buffer.length);
			clientSocket.receive(receive);
			response = new String(buffer).trim();
		} catch (Exception e) {
			e.printStackTrace();
		}
		if(response == "")
			return null;
		return response;
	}

}
