<!--
  Copyright (C) 2006-2010 
                          the HYDRA consortium, EU project IST-2005-034891
  
  This file is part of LinkSmart.
  
  LinkSmart is free software: you can redistribute it and/or modify
  it under the terms of the GNU LESSER GENERAL PUBLIC LICENSE
  version 3 as published by the Free Software Foundation.
  
  LinkSmart is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU Lesser General Public License for more details.
  
  You should have received a copy of the GNU Lesser General Public
  License along with LinkSmart.  If not, see <http://www.gnu.org/licenses/>.
-->
<project name="TemperatureSelfStarManager" xmlns:ivy="antlib:org.apache.ivy.ant">
  <property name="moduleName" value="EventManager"/>
  <property name="rootBuildDir" value="${basedir}/../../build"/>
  <property name="rootDistributionDir" value="${basedir}/../../distribution"/>
  <property name="src.dir" value="${basedir}/src"/>
  <property name="test.dir" value="${basedir}/test"/>
  <property name="build.dir" value="${rootBuildDir}/${moduleName}/bin"/>
  <property name="bnd.file" value="${basedir}/resources/${moduleName}.bnd"/>
  <property name="revision" value="1.0"/>
  
  <property name="lib.dir" value="${basedir}/lib"/>
  <property name="resources.dir" value="${basedir}/resources"/>
  <property name="antlib.dir" value="${basedir}/../../../../../antlibs"/>
    
  <path id="antlib.path">
    <fileset dir="${antlib.dir}" includes="*.jar"/>
  </path>
  <taskdef resource="org/apache/ivy/ant/antlib.xml" uri="antlib:org.apache.ivy.ant" classpathref="antlib.path"/>
  
  <target name="resolve">
    <ivy:resolve transitive="false"/>	
    <ivy:retrieve transitive="false" type="jar" pattern="${lib.dir}/[artifact]-[revision].[ext]"/>
    <ivy:retrieve transitive="false" type="jars" pattern="${lib.dir}/[artifact]-[revision].[ext]"/>
    <ivy:retrieve transitive="false" type="pom" pattern="${lib.dir}/[artifact]-[revision].[ext]"/>
    <ivy:retrieve transitive="false" type="bundle" pattern="${lib.dir}/[artifact]-[revision].[ext]"/> 
  </target>

  <target name="deploy" depends="resolve">
        <mkdir dir="${distribution.dir}"/>
	 <copy todir="${distribution.dir}">
	   <fileset dir="${resources.dir}"/>
	 </copy>
	 <copy todir="${distribution.dir}/conf">
	   <fileset file="${basedir}/../../resources/ontology.owl"/>
	 </copy>
	 <copy flatten="true" todir="${distribution.dir}/bundle">
	   <fileset dir="${lib.dir}"/>
	 </copy>
  </target>
  
  <target name="clean">
    <delete dir="${distribution.dir}" includeEmptyDirs="true"  failonerror="false"/>
    <delete dir="${lib.dir}" includeEmptyDirs="true"  failonerror="false"/>
  </target>

</project>
