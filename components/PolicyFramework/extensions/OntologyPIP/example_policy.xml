
<Policy PolicyId="SamplePolicy"
	RuleCombiningAlgId="urn:oasis:names:tc:xacml:1.0:rule-combining-algorithm:permit-overrides">

	<Target>
		<Subjects>
			<AnySubject />
		</Subjects>
		<Resources>
			<AnyResource />
		</Resources>
		<Actions>
			<AnyAction />
		</Actions>
	</Target>

	<Rule RuleId="TestRule" Effect="Permit">
		<Target>
			<Subjects>
				<AnySubject />
			</Subjects>
			<Resources>
				<AnyResource />
			</Resources>
			<Actions>
				<Action>
					<ActionMatch MatchId="urn:oasis:names:tc:xacml:1.0:function:string-equal">
						<AttributeValue DataType="http://www.w3.org/2001/XMLSchema#string">hello</AttributeValue>
						<ActionAttributeDesignator
							DataType="http://www.w3.org/2001/XMLSchema#string" AttributeId="urn:oasis:names:tc:xacml:1.0:action:action-id" />
					</ActionMatch>
				</Action>
			</Actions>
		</Target>

		<Condition FunctionId="urn:oasis:names:tc:xacml:1.0:function:and">
		<!-- Requesting device (identified by PID) supports certain semantic properties (e.g. is able to play videos -->
			<Apply FunctionId="urn:oasis:names:tc:xacml:1.0:function:sem:satisfiesQuery">
				<AttributeValue DataType="http://www.w3.org/2001/XMLSchema#string">device:hasService/service:serviceOperation;"PlayVideo"^^xsd:string</AttributeValue>
				<SubjectAttributeDesignator DataType="http://www.w3.org/2001/XMLSchema#string" AttributeId="linksmart:policy:subject:pid" />
			</Apply>
		</Condition>

	</Rule>

	<!-- A final, "fall-through" Rule that always Denies -->
	<Rule RuleId="FinalRule" Effect="Deny" />

</Policy>
